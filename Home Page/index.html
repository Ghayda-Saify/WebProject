<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alandalus</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>

    </style>
</head>
<body>
    <header>
<!--        <figure class="logo">-->
<!--            <img src="imgs/logo-removebg-preview.png" alt="Alandalus">-->
<!--        </figure>-->
        <div class="logo"><img src="imgs/logo-removebg-preview.png" alt=""></div>
        <nav class="main-nav">
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="">Products</a></li>
                <li><a href="">Connect</a></li>
                <i class="fa-regular fa-user" style="color: #ef3d1e;"><a href=""></a></i>
            </ul>
        </nav>

    </header>
    <main>
        <section class="carousel next">
            <div class="list">
                <article class="item other_1">
                    <div class="main-content"
                         style="background-color: #ffffff;">
                        <div class="content">
                            <h2>Caffe Latte, a new product</h2>
                            <p class="price">$ 20</p>
                            <p class="description">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores labore animi voluptatibus sequi illo, earum molestias explicabo officiis iste neque? Quis quod eligendi fugit, dolore nam itaque modi exercitationem voluptatem corrupti aut aspernatur. Quos non in sed ratione tenetur harum.
                            </p>
                            <button class="addToCard">
                                Add To Card
                            </button>
                        </div>
                    </div>
                    <figure class="image">
                        <img src="imgs/hoodi-removebg-preview.png" alt="">
                        <figcaption>Caffe Latte, a new product</figcaption>
                    </figure>
                </article>
                <article class="item active">
                    <div class="main-content"
                         style="background-color: #40d872;">
                        <div class="content">
                            <h2>Strawberry mocha, a new product</h2>
                            <p class="price">$ 20</p>
                            <p class="description">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores labore animi voluptatibus sequi illo, earum molestias explicabo officiis iste neque? Quis quod eligendi fugit, dolore nam itaque modi exercitationem voluptatem corrupti aut aspernatur. Quos non in sed ratione tenetur harum.
                            </p>
                            <button class="addToCard">
                                Add To Card
                            </button>
                        </div>
                    </div>
                    <figure class="image">
                        <img src="imgs/mug-removebg-preview.png" alt="">
                        <figcaption>Strawberry mocha, a new product</figcaption>
                    </figure>
                </article>
                <article class="item other_2">
                    <div class="main-content"
                         style="background-color: #122c6f;">
                        <div class="content">
                            <h2>Doppio espresso, a new product</h2>
                            <p class="price">$ 20</p>
                            <p class="description">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores labore animi voluptatibus sequi illo, earum molestias explicabo officiis iste neque? Quis quod eligendi fugit, dolore nam itaque modi exercitationem voluptatem corrupti aut aspernatur. Quos non in sed ratione tenetur harum.
                            </p>
                            <button class="addToCard">
                                Add To Card
                            </button>
                        </div>
                    </div>
                    <figure class="image">
                        <img src="imgs/دبابيس.png" alt="">
                        <figcaption>Doppio espresso, a new product</figcaption>
                    </figure>
                </article>
                <article class="item">
                    <div class="main-content"
                         style="background-color: #7eb63d;">
                        <div class="content">
                            <h2>Matcha latte macchiato, a new product</h2>
                            <p class="price">$ 20</p>
                            <p class="description">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores labore animi voluptatibus sequi illo, earum molestias explicabo officiis iste neque? Quis quod eligendi fugit, dolore nam itaque modi exercitationem voluptatem corrupti aut aspernatur. Quos non in sed ratione tenetur harum.
                            </p>
                            <button class="addToCard">
                                Add To Card
                            </button>
                        </div>
                    </div>
                    <figure class="image">
                        <img src="imgs/زرف-removebg-preview.png" alt="">
                        <figcaption>Matcha latte macchiato, a new product</figcaption>
                    </figure>
                </article>
            </div>
            <div class="arrows">
                <button id="prev"><</button>
                <button id="next">></button>
            </div>
        </section>
    </main>
    <div class="catigories"></div>


    <script>
        let next = document.getElementById('next');
        let prev = document.getElementById('prev');
        let carousel = document.querySelector('.carousel');
        let items = document.querySelectorAll('.carousel .item');
        let countItem = items.length;
        let active = 1;
        let other_1 = null;
        let other_2 = null;

        next.onclick = () => {
            carousel.classList.remove('prev');
            carousel.classList.add('next');
            active =active + 1 >= countItem ? 0 : active + 1;
            other_1 =active - 1 < 0 ? countItem -1 : active - 1;
            other_2 = active + 1 >= countItem ? 0 : active + 1;
            changeSlider();
        }
        prev.onclick = () => {
            carousel.classList.remove('next');
            carousel.classList.add('prev');
            active = active - 1 < 0 ? countItem - 1 : active - 1;
            other_1 = active + 1 >= countItem ? 0 : active + 1;
            other_2 = other_1 + 1 >= countItem ? 0 : other_1 + 1;
            changeSlider();
        }
        const changeSlider = () => {
            let itemOldActive = document.querySelector('.carousel .item.active');
            if(itemOldActive) itemOldActive.classList.remove('active');

            let itemOldOther_1 = document.querySelector('.carousel .item.other_1');
            if(itemOldOther_1) itemOldOther_1.classList.remove('other_1');

            let itemOldOther_2 = document.querySelector('.carousel .item.other_2');
            if(itemOldOther_2) itemOldOther_2.classList.remove('other_2');

            items.forEach(e => {
                e.querySelector('.image img').style.animation = 'none';
                e.querySelector('.image figcaption').style.animation = 'none';
                void e.offsetWidth;
                e.querySelector('.image img').style.animation = '';
                e.querySelector('.image figcaption').style.animation = '';
            })

            items[active].classList.add('active');
            items[other_1].classList.add('other_1');
            items[other_2].classList.add('other_2');

            clearInterval(autoPlay);
            autoPlay = setInterval(() => {
                next.click();
            }, 5000);
        }
        let autoPlay = setInterval(() => {
            next.click();
        }, 5000);
    </script>
</body>
</html>